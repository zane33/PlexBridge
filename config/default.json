{
  "server": {
    "port": 3000,
    "host": "0.0.0.0",
    "environment": "development"
  },
  "database": {
    "path": "./data/database/plextv.db"
  },
  "cache": {
    "host": "localhost",
    "port": 6379,
    "db": 0,
    "ttl": {
      "epg": 3600,
      "streams": 300,
      "api": 60
    }
  },
  "ssdp": {
    "port": 1900,
    "friendlyName": "PlexTV Development",
    "manufacturer": "PlexTV",
    "modelName": "PlexTV Bridge",
    "modelNumber": "1.0",
    "description": "IPTV to Plex Bridge Interface"
  },
  "streams": {
    "maxConcurrent": 5,
    "transcodeEnabled": true,
    "ffmpegPath": "/usr/bin/ffmpeg",
    "supportedFormats": ["hls", "dash", "rtsp", "rtmp", "udp", "http", "mms", "srt"],
    "autoDetectFormat": true,
    "timeout": 30000,
    "reconnectAttempts": 3,
    "bufferSize": 65536
  },
  "protocols": {
    "rtsp": {
      "transport": "tcp",
      "timeout": 10000,
      "port": 554
    },
    "udp": {
      "bufferSize": 65536,
      "timeout": 5000
    },
    "http": {
      "userAgent": "PlexTV/1.0",
      "timeout": 30000,
      "followRedirects": true
    },
    "srt": {
      "latency": 120,
      "encryption": "none"
    }
  },
  "epg": {
    "refreshInterval": "4h",
    "cacheTtl": 3600,
    "maxFileSize": 104857600,
    "timeout": 60000
  },
  "plexlive": {
    "ssdp": {
      "enabled": true,
      "discoverableInterval": 30000,
      "announceInterval": 1800000,
      "multicastAddress": "239.255.255.250",
      "deviceDescription": "IPTV to Plex Bridge Interface"
    },
    "streaming": {
      "maxConcurrentStreams": 5,
      "maxConcurrentPerChannel": 3,
      "streamTimeout": 30000,
      "sessionTimeout": 3600000,
      "reconnectAttempts": 3,
      "bufferSize": 65536,
      "adaptiveBitrate": true,
      "preferredProtocol": "hls",
      "enforceUniqueSessions": true
    },
    "transcoding": {
      "enabled": true,
      "hardwareAcceleration": false,
      "preset": "medium",
      "videoCodec": "h264",
      "audioCodec": "aac",
      "qualityProfiles": {
        "low": { "resolution": "720x480", "bitrate": "1000k" },
        "medium": { "resolution": "1280x720", "bitrate": "2500k" },
        "high": { "resolution": "1920x1080", "bitrate": "5000k" }
      },
      "defaultProfile": "medium",
      "mpegts": {
        "enabled": true,
        "ffmpegArgs": "-hide_banner -loglevel error -reconnect 1 -reconnect_at_eof 1 -reconnect_streamed 1 -reconnect_delay_max 2 -i [URL] -c:v copy -c:a copy -bsf:v dump_extra -f mpegts -mpegts_copyts 1 -avoid_negative_ts make_zero -fflags +genpts+igndts+discardcorrupt -copyts -muxdelay 0 -muxpreload 0 -flush_packets 1 -max_delay 0 -max_muxing_queue_size 9999 pipe:1",
        "hlsProtocolArgs": "-allowed_extensions ALL -protocol_whitelist file,http,https,tcp,tls,pipe,crypto -user_agent PlexBridge/1.0 -live_start_index 0 -http_persistent 1"
      }
    },
    "caching": {
      "enabled": true,
      "duration": 3600,
      "maxSize": 1073741824,
      "cleanup": {
        "enabled": true,
        "interval": 3600000,
        "maxAge": 86400000
      }
    },
    "device": {
      "name": "PlexTV Development",
      "id": "PLEXTV001",
      "tunerCount": 4,
      "firmware": "1.0.0",
      "baseUrl": "http://localhost:3000"
    },
    "network": {
      "bindAddress": "0.0.0.0",
      "advertisedHost": null,
      "streamingPort": 3000,
      "discoveryPort": 1900,
      "ipv6Enabled": false
    },
    "compatibility": {
      "hdHomeRunMode": true,
      "plexPassRequired": false,
      "gracePeriod": 10000,
      "channelLogoFallback": true
    }
  },
  "logging": {
    "level": "debug",
    "maxFiles": 14,
    "maxSize": "10m",
    "path": "/data/logs"
  },
  "security": {
    "sessionTimeout": 86400,
    "bcryptRounds": 10,
    "rateLimitMax": 1000,
    "rateLimitWindow": 900000
  }
}
